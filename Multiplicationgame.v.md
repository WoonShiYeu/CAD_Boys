```
module Multiplicationgame (
	input clkin, rst, start,
	inout [7:0] GPIO_1,
	output finishled, loseled, correctled,
	output [6:0] marks1led,marks0led,ans1led,ans0led,num1led,num2led,timer1led,timer0led
	);
	
	wire clk, clk2Hz, correct, finish, lose;
	wire [3:0] num1,num2;
	
	Onesecclk u1 (.clkin(clkin), .rst(rst), .clk(clk));
	twoHzclk u2 (.clkin(clkin), .rst(rst), .clk(clk2Hz));
	
	CU u3 (.clk(clk2Hz), .rst(rst), .start(start), .correct(correct), .finish(finish), .lose(lose), .num1(num1), .num2(num2), 
	.correctled(correctled), .finishled(finishled), .loseled(loseled));

	DU u4 (.clk(clk), .rst(rst), .clkin(clkin), .num1(num1), .num2(num2), .GPIO_1(GPIO_1), .correct(correct), .finish(finish),
	.lose(lose), .marks1led(marks1led), .marks0led(marks0led), .ans1led(ans1led), .ans0led(ans0led), .num1led(num1led), 
	.num2led(num2led), .timer1led(timer1led), .timer0led(timer0led));
	
	endmodule			
```
Coding above shows Multiplicationgame.v which is used to combine the control unit, data unit with the functional block onesecclk and twoHzclk to slow down their clock speed

![image](https://user-images.githubusercontent.com/87056506/125172490-9c8dc400-e1ec-11eb-9b81-165d0a065bc1.png)

Figure above shows the IOBD of Multiplicationgame.v, which is used to visualise the Verilog code. From the figure we can see that the player is only controlling GPIO_1, clkin, rst and start. GPIO_1 is connected to keypad and it is an in out signal because the keypad that we use is no VCC. So that it required the system to be in and out the signal to detect the number that pressed by user. clkin we used is the build in clock with 50MHz. rst is used to reset the data and the state in the system while start is connected to VCC to start the game. For the block onesecclk and twoHzclk, they are used to slower the clock speed to 1Hz and 2Hz respectively. For control unit we need 2Hz clock but for data unit part we need the original clock speed which is the build in 50MHz and 1Hz clock. num1 and num2 are internal signal that control unit send to data unit and which are the question number for multiplication. In data unit, it will compare the num1 and num2 with the value of GPIO_1 that inserted by the player. While lose, correct and finish is the signal that data unit send to control unit to indicate the state of it based on the correctness of the answer towards the question. Signal lose will be set if the player loses the game, or we can say that the player is not able to answer the question correctly in the limited time. Signal correct will be set once the player answers the question correctly. For signal finish, it will be set when the player answers the question correctly in 5 consecutive times. According to the state diagram, at state S1, if correct is set, it will go back to state S0. If finish is set at state S1, it will go to state S2 while if lose is set, it will go to state S3. Once lose, correct or finish is set, finishled, loseled or correctled will be lighten up respectively to indicate the player the situation of the game. For the output of data unit, which are marks1led, marks0led, ans1led, ans0led, num1led, num2led, timer1led and timer0led. In fact, marks1led and marks0led, ans1led and ans0led, timer1led and timer0led are come with pair because they are use to show 2 digits number so that they need to have 2 BCD 7 segment to show all the number that the system stole. For ans1led and ans0led, they are used to show the number that type by the user which is coming from GPIO_1 where ans1led is showing digits tens while ans0led is showing digits. num1led and num2led are used to show the question of the multiplication. They are the random number that generated by RNG.v in control unit. For num1led and num2led, they are not 2 digits number anymore. They are separated of 2 single digit number so that the player needs to calculate the multiplication of the number that showed in num1led and num2led. timer1led and timer0led are the indicator to show the countdown from 20 seconds to 0 seconds of every question since every question will have 20 seconds to answer. Where timer0led is first digit and timer1led is second digit. For marks1led and marks0led, they are used to show the marks of the player once the finish in data unit is set. marks0led is showing the first digit while marks1led is showing second digit.
